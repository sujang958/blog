---
import Layout from "./Layout.astro"

export interface Props {
  title: string
}

const { title, frontmatter } = Astro.props
---

<Layout title={title}>
  <div class="py-16 max-w-2xl w-full self-center flex flex-col">
    <img
      src={frontmatter.image}
      alt="The Blog Image"
      class="object-contain h-64 rounded-lg p-8 bg-white"
    />
    <div class="py-8"></div>
    <p class="text-base md:text-xl">{frontmatter.category}</p>
    <p class="mt-1 font-bold text-3xl md:text-5xl">{frontmatter.title}</p>
    <p class="mt-4 text-sm md:text-base">
      {
        Intl.DateTimeFormat("us-en", {}).format(
          new Date(Number(frontmatter.date))
        )
      }
    </p>
    {
      frontmatter.draft && (
        <p class="text-base md:text-xl italic mt-8">⚠️ This post is a draft</p>
      )
    }
    <div
      class="prose-base md:prose-lg py-16 prose-a:underline prose-code:bg-black prose-code:rounded-lg prose-code:text-white prose-code:p-1 prose-img:rounded-lg break-words"
    >
      <slot />
    </div>
  </div>
</Layout>

<script>
  const anObject = new Proxy(
    { name: "Hun", age: 16 },
    {
      set(object, propertyName, value) {
        if (propertyName == "age" && value < 0) return false

        return Reflect.set(object, propertyName, value)
      },
    }
  )
</script>
